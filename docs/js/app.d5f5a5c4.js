(function(e){function n(n){for(var a,s,o=n[0],c=n[1],u=n[2],f=0,m=[];f<o.length;f++)s=o[f],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(n);while(m.length)m.shift()();return i.push.apply(i,u||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],a=!0,o=1;o<t.length;o++){var c=t[o];0!==r[c]&&(a=!1)}a&&(i.splice(n--,1),e=s(s.s=t[0]))}return e}var a={},r={app:0},i=[];function s(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=a,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)s.d(t,a,function(n){return e[n]}.bind(null,a));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="/names/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=n,o=o.slice();for(var u=0;u<o.length;u++)n(o[u]);var l=c;i.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";var a=t("64a9"),r=t.n(a);r.a},1515:function(e,n,t){},"3d80":function(e,n,t){"use strict";var a=t("85e0"),r=t.n(a);r.a},"4f77":function(e,n,t){"use strict";var a=t("1515"),r=t.n(a);r.a},"56d7":function(e,n,t){"use strict";t.r(n);t("cadf"),t("551c"),t("f751"),t("097d");var a=t("2b0e"),r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("div",{attrs:{id:"header"}},[t("SearchBar",{attrs:{names:e.nameInfo},on:{select:function(n){return e.selectName(n)}}})],1),t("div",{staticClass:"body"},[e._m(0),t("div",{attrs:{id:"scatter_container"}},[e.loaded?t("NameScatterChart",{attrs:{nameInfo:e.nameInfo},on:{select:function(n){return e.selectName(n)}}}):t("div",[t("Loading")],1)],1),t("div",{staticClass:"side",attrs:{id:"name_info"}},[t("h2",[e._v("\n        Name's Information\n      ")]),e.nameUsage?t("div",[t("NameUsageChart",{attrs:{name:e.selectedName,gender:e.selectedGender,nameUsage:e.nameUsage}})],1):e._e(),t("NameInfo",{attrs:{information:e.nameInformation,neighbours:e.neighbours}})],1)])])},i=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"side",attrs:{id:"general_info"}},[t("h2",[e._v("\n        What do i see here?\n      ")]),t("div",[t("p",[e._v("\n          Here you can see a visualisation of the trend for french names from 1900 until 2017.\n        ")]),t("p",[e._v("\n          The closer two dots are on the visualisation the more similar their trend are (t-SNE).\n          The size depends on the total number of babies who received the names.\n        ")]),t("p",[e._v("\n          For clarity reasons, I removed the names given less that 1000 times, so don't panic if you don't see your names,\n          it means you are special ðŸ™ƒ.\n        ")])])])}],s=(t("55dd"),t("768b")),o=(t("ffc1"),t("ac6a"),t("96cf"),t("3b8d")),c=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("svg",{attrs:{id:"scatter_area",height:e.height,width:e.width}},[t("g",{attrs:{id:"scatter_content"}},e._l(e.nameInfo,function(n){return t("circle",{key:n.name+n.sexe,class:[1==n.sexe?"male":"female","name"],attrs:{cx:e.x(n.x),cy:e.y(n.y),r:e.scale(n.count),rInit:e.scale(n.count),fill:e.colorScale(n.idmax),"fill-opacity":"0.8"},on:{mouseover:function(t){return e.$emit("select",n)}}})}),0)])},u=[],l=t("5698"),f=t("08a8"),m={name:"NameScatterChart",props:{nameInfo:Array},data:function(){return{height:800,width:800,zoomScale:1,svg:null}},computed:{x:function(){var e=l["c"](this.nameInfo.map(function(e){return e.x})),n=Object(s["a"])(e,2),t=n[0],a=n[1],r=l["g"]().range([0,this.width]);return r.domain([t,a]),r},y:function(){var e=l["c"](this.nameInfo.map(function(e){return e.y})),n=Object(s["a"])(e,2),t=n[0],a=n[1],r=l["g"]().range([this.height,0]);return r.domain([t,a]),r},scale:function(){return l["f"]().domain(l["c"](this.nameInfo.map(function(e){return e.count}))).range([2,7])},colorScale:function(){var e=l["c"](this.nameInfo.map(function(e){return e.idmax})),n=Object(s["a"])(e,2),t=n[0],a=n[1],r=function(e){return Object(f["a"])((e-t)/(a-t))};return r}},mounted:function(){this.svg=l["h"]("#scatter_area"),this.g=l["h"]("#scatter_content");var e=l["j"]().scaleExtent([.3,20]).on("zoom",function(){this.g.style("stroke-width","".concat(1.5/l["b"].transform.k,"px")),this.g.attr("transform",l["b"].transform);var e=l["b"].transform.k;l["i"](".name").each(function(){var n=l["h"](this);n.attr("r",n.attr("rInit")/(1+Math.log(e)/1.5))})}.bind(this));this.svg.call(e)}},h=m,d=(t("3d80"),t("2877")),p=Object(d["a"])(h,c,u,!1,null,"74205158",null),g=p.exports,v=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("h3",[e._v("\n        "+e._s(e.name)+"\n    ")]),t("svg",{attrs:{id:"lineplot_area",height:e.height,width:e.width}},[t("g",[t("path",{staticClass:"line",attrs:{d:e.series}})])])])},_=[],b=(t("7f7f"),t("c5f6"),{name:"NameUsageChart",props:{name:String,gender:Number,nameUsage:Array},data:function(){return{valueline:null,height:200,width:400,series:[],x:null,y:null}},created:function(){this.x=l["g"]().range([0,this.width]).domain([new Date(1900,1),new Date(2018,1)]),this.y=l["e"]().range([this.height,0]),this.x.domain([new Date(1900,1),new Date(2018,1)]).nice(),this.y.domain([0,1]);var e=this.x,n=this.y;this.valueline=l["d"]().x(function(n){return e(n.date)}).y(function(e){return n(e.value)}),this.updateData()},watch:{name:function(){this.updateData()},nameUsage:function(){this.updateData()}},methods:{updateData:function(){for(var e=0,n=0;n<this.nameUsage.length;n++)this.nameUsage[n].name==this.name&&this.nameUsage[n].sexe==this.gender&&(e=n);this.series=this.valueline(this.nameUsage[e].series.slice(0,this.nameUsage[e].series.length-1))}}}),x=b,y=(t("f991"),Object(d["a"])(x,v,_,!1,null,"1e31f03e",null)),w=y.exports,I=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("div",[t("span",{staticClass:"info_title"},[e._v("Name : ")]),e._v(" "+e._s(e.information.name)+"\n    ")]),t("div",[t("span",{staticClass:"info_title"},[e._v("Max : ")]),e._v(" "+e._s(e.information.max)+" (in "+e._s(e.information.idmax)+")\n    ")]),t("div",[t("span",{staticClass:"info_title"},[e._v("Neighbours : ")]),t("ul",e._l(e.neighbours,function(n,a){return t("li",{key:a},[e._v("\n                "+e._s(n.name)+"\n            ")])}),0)])])},N=[],O={name:"NameInfo",props:{information:Object,neighbours:Array}},j=O,S=(t("4f77"),Object(d["a"])(j,I,N,!1,null,"b5ec17b0",null)),C=S.exports,U=function(){var e=this,n=e.$createElement;e._self._c;return e._m(0)},k=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"lds-ring"},[t("div"),t("div"),t("div"),t("div")])}],E={name:"Loading"},D=E,$=(t("675b"),Object(d["a"])(D,U,k,!1,null,"7f04d130",null)),M=$.exports,P=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticStyle:{"text-align":"center"}},[t("div",{staticClass:"input_wrapper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",name:"search",placeholder:"Search..."},domProps:{value:e.name},on:{focus:function(n){e.displaySuggestions=!0},focusout:e.hideSuggestions,input:function(n){n.target.composing||(e.name=n.target.value)}}}),e.displaySuggestions?t("div",{staticClass:"name_dropdown"},[t("ul",e._l(e.suggestions,function(n){return t("li",{key:n.name+n.gender,on:{click:function(t){return e.selectName(n.name,n.gender)}}},[e._v("\n                    "+e._s(n.name)+" ("+e._s(n.gender)+")\n                ")])}),0)]):e._e()])])},A=[],R=(t("f559"),{name:"SearchBar",props:{names:Array},data:function(){return{suggestions:[],name:"",gender:null,displaySuggestions:!1}},watch:{name:function(){for(var e=[],n=this.name.toLowerCase(),t=0;t<this.names.length;t++)this.names[t].name_index.toLowerCase().startsWith(n)&&e.push({name:this.names[t].name_index,gender:this.names[t].sexe_index});this.suggestions=e.slice(0,50)}},methods:{hideSuggestions:function(){setTimeout(function(){this.displaySuggestions=!1}.bind(this),300)},selectName:function(e,n){this.name=e,this.gender=n,this.$emit("select",{name_index:e,sexe_index:n})}}}),T=R,L=(t("fad0"),Object(d["a"])(T,P,A,!1,null,"1f009aba",null)),B=L.exports,G={name:"app",components:{NameScatterChart:g,NameUsageChart:w,NameInfo:C,SearchBar:B,Loading:M},data:function(){return{nameInfo:[],nameUsage:null,selectedName:"BENJAMIN",selectedGender:1,nameInformation:{},neighbours:[],loaded:!1}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadNameInfo();case 2:return this.nameInfo=e.sent,e.next=5,this.loadNameUsage();case 5:this.nameUsage=e.sent,this.loaded=!0;case 7:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),loadNameInfo:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"]("info.csv");case 2:return n=e.sent,n.forEach(function(e){e.x=+e.x,e.y=+e.y,e.idmax=+e.idmax,e.count=+e.count}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));function n(){return e.apply(this,arguments)}return n}(),loadNameUsage:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"]("name_usage.csv");case 2:return n=e.sent,n.forEach(function(e){for(var n=new Array,t=0,a=Object.entries(e);t<a.length;t++){var r=Object(s["a"])(a[t],2),i=r[0],o=r[1];"name"!=i&&"sexe"!=i&&(e[i]=+o,n.push({date:new Date(+i,1),value:e[i]}))}e.series=n}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));function n(){return e.apply(this,arguments)}return n}(),selectName:function(e){this.selectedName=e.name_index,this.selectedGender=+e.sexe_index;for(var n=0,t=0;t<this.nameInfo.length;t++)this.nameInfo[t].name_index==this.selectedName&&this.nameInfo[t].sexe_index==this.selectedGender&&(n=t);this.nameInformation=this.nameInfo[n],this.neighbours=this.nameInfo.map(function(e,n){var t=e.x-this.nameInformation.x,a=e.y-this.nameInformation.y;return{dist:Math.sqrt(t*t+a*a),index:n}}.bind(this)).sort(function(e,n){return e.dist>n.dist?1:e.dist==n.dist?0:-1}).slice(1,6).map(function(e){return this.nameInfo[e.index]}.bind(this))}}},z=G,J=(t("034f"),Object(d["a"])(z,r,i,!1,null,null,null)),W=J.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(W)}}).$mount("#app")},"64a9":function(e,n,t){},"675b":function(e,n,t){"use strict";var a=t("6c1e"),r=t.n(a);r.a},"6c1e":function(e,n,t){},"85e0":function(e,n,t){},c6fb:function(e,n,t){},e5ec:function(e,n,t){},f991:function(e,n,t){"use strict";var a=t("c6fb"),r=t.n(a);r.a},fad0:function(e,n,t){"use strict";var a=t("e5ec"),r=t.n(a);r.a}});
//# sourceMappingURL=app.d5f5a5c4.js.map